"use strict";(self.webpackChunkBikeLife=self.webpackChunkBikeLife||[]).push([[100],{2100:(T,p,c)=>{c.r(p),c.d(p,{AdminModule:()=>x});var u=c(6814),g=c(2236),t=c(5879),b=c(5861),a=c(6223),f=c(4035),s=c(1175);function _(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"th",36),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",37),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td")(14,"button",38),t.NdJ("click",function(){const i=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.mostrarEditar(i))}),t.TgZ(15,"mat-icon"),t._uU(16,"edit"),t.qZA()(),t.TgZ(17,"button",39),t.NdJ("click",function(){const i=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.mostrarBorrar(i))}),t.TgZ(18,"mat-icon"),t._uU(19,"delete"),t.qZA()()()()}if(2&n){const o=d.$implicit,e=d.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.s9C("src",o.imagen,t.LSH),t.s9C("alt",o.alt),t.xp6(2),t.Oqu(o.nombre),t.xp6(2),t.hij("$",o.precio,""),t.xp6(2),t.Oqu(o.descripcion),t.xp6(2),t.Oqu(o.categoria)}}function Z(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",40)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h1",9),t._uU(5,"Edite el siguiente producto"),t.qZA(),t._UZ(6,"button",10),t.qZA(),t.TgZ(7,"div",11)(8,"div",12)(9,"label",26),t._uU(10,"Ingrese el nombre del producto:"),t.qZA(),t._UZ(11,"input",41),t.qZA(),t.TgZ(12,"div",12)(13,"label",26),t._uU(14,"Ingrese descripci\xf3n del producto:"),t.qZA(),t._UZ(15,"input",42),t.qZA(),t.TgZ(16,"div",12)(17,"label",26),t._uU(18,"Ingrese el precio:"),t.qZA(),t._UZ(19,"input",43),t.qZA(),t.TgZ(20,"div",12)(21,"label",26),t._uU(22,"Seleccione una categor\xeda:"),t.qZA(),t.TgZ(23,"select",44)(24,"option",18),t._uU(25,"Elija una categoria"),t.qZA(),t.TgZ(26,"option",19),t._uU(27,"Futbol"),t.qZA(),t.TgZ(28,"option",20),t._uU(29,"Voley"),t.qZA(),t.TgZ(30,"option",21),t._uU(31,"Basquet"),t.qZA(),t.TgZ(32,"option",22),t._uU(33,"Indumentaria"),t.qZA(),t.TgZ(34,"option",23),t._uU(35,"Boxeo"),t.qZA(),t.TgZ(36,"option",24),t._uU(37,"Ciclismo"),t.qZA()()(),t.TgZ(38,"div",25)(39,"label",26),t._uU(40,"Ingrese una imagen:"),t.qZA(),t.TgZ(41,"label",27),t._uU(42,"Subir Imagen"),t.qZA(),t.TgZ(43,"input",28),t.NdJ("change",function(r){t.CHM(o);const i=t.oxw();return t.KtG(i.cargarImagen(r))}),t.qZA(),t.TgZ(44,"span",29),t._uU(45),t.qZA()(),t.TgZ(46,"div",12)(47,"label",26),t._uU(48,"Ingrese texto alternativo:"),t.qZA(),t._UZ(49,"input",45),t.qZA()(),t.TgZ(50,"div",31)(51,"button",32),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.editarProducto())}),t._uU(52,"Guardar cambios"),t.qZA(),t.TgZ(53,"button",33),t._uU(54,"Cerrar"),t.qZA()()()()()}if(2&n){const o=d.$implicit,e=t.oxw();t.xp6(7),t.Q6J("formGroup",e.producto),t.xp6(4),t.s9C("placeholder",o.nombre),t.xp6(4),t.s9C("placeholder",o.descripcion),t.xp6(4),t.s9C("placeholder",o.precio),t.xp6(26),t.Oqu(e.nombreImagen),t.xp6(4),t.s9C("placeholder",o.alt)}}function h(n,d){if(1&n){const o=t.EpF();t.TgZ(0,"div",46)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h1",9),t._uU(5,"\xbfEst\xe1 seguro de eliminar el producto?"),t.qZA(),t._UZ(6,"button",10),t.qZA(),t.TgZ(7,"div",47),t._uU(8),t._UZ(9,"img",37),t.qZA(),t.TgZ(10,"div",31)(11,"button",48),t.NdJ("click",function(){t.CHM(o);const r=t.oxw();return t.KtG(r.borrarProducto())}),t._uU(12,"Eliminar"),t.qZA(),t.TgZ(13,"button",33),t._uU(14,"Cerrar"),t.qZA()()()()()}if(2&n){const o=t.oxw();t.xp6(8),t.hij(" ",o.productoSeleccionado.nombre," "),t.xp6(1),t.s9C("src",o.productoSeleccionado.imagen,t.LSH),t.s9C("alt",o.productoSeleccionado.alt)}}let C=(()=>{class n{constructor(o){this.servicioCrud=o,this.coleccionProductos=[],this.modalVisibleProducto=!1,this.producto=new a.cw({nombre:new a.NI("",a.kI.required),precio:new a.NI(0,a.kI.required),descripcion:new a.NI("",a.kI.required),categoria:new a.NI("",a.kI.required),alt:new a.NI("",a.kI.required)})}ngOnInit(){this.servicioCrud.obtenerProducto().subscribe(o=>{this.coleccionProductos=o})}agregarProducto(){var o=this;return(0,b.Z)(function*(){if(o.producto.valid){let e={idProducto:"",nombre:o.producto.value.nombre,descripcion:o.producto.value.descripcion,precio:o.producto.value.precio,categoria:o.producto.value.categoria,imagen:"",alt:o.producto.value.alt};yield o.servicioCrud.subirImagen(o.nombreImagen,o.imagen,"productos").then(r=>{o.servicioCrud.obtenerUrlImagen(r).then(i=>{o.servicioCrud.crearProducto(e,i).then(l=>{alert("Ha agregado un nuevo producto con \xe9xito :)"),o.producto.reset()}).catch(l=>{alert("Hubo un problema al agregar un nuevo producto :("),o.producto.reset()})})})}})()}mostrarBorrar(o){this.modalVisibleProducto=!0,this.productoSeleccionado=o}borrarProducto(){this.servicioCrud.eliminarProducto(this.productoSeleccionado.idProducto,this.productoSeleccionado.imagen).then(o=>{alert("El producto se ha eliminado correctamente.")}).catch(o=>{alert("No se ha podido eliminar el producto \n"+o)})}mostrarEditar(o){this.productoSeleccionado=o,this.producto.setValue({nombre:o.nombre,precio:o.precio,descripcion:o.descripcion,categoria:o.categoria,alt:o.alt})}editarProducto(){let o={idProducto:this.productoSeleccionado.idProducto,nombre:this.producto.value.nombre,precio:this.producto.value.precio,descripcion:this.producto.value.descripcion,categoria:this.producto.value.categoria,imagen:this.productoSeleccionado.imagen,alt:this.producto.value.alt};this.imagen?this.servicioCrud.subirImagen(this.nombreImagen,this.imagen,"productos").then(e=>{this.servicioCrud.obtenerUrlImagen(e).then(r=>{o.imagen=r,this.actualizarProducto(o),this.producto.reset()}).catch(r=>{alert("Hubo un problema al subir la imagen :( \n"+r),this.producto.reset()})}):this.actualizarProducto(o)}actualizarProducto(o){this.servicioCrud.modificarProducto(this.productoSeleccionado.idProducto,o).then(e=>{alert("El producto fue modificado con \xe9xito.")}).catch(e=>{alert("Hubo un problema al modificar el producto.")})}cargarImagen(o){let e=o.target.files[0],r=new FileReader;null!=e&&(r.readAsDataURL(e),r.onloadend=()=>{let i=r.result;null!=i&&(this.nombreImagen=e.name,this.imagen=i.toString())})}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(f.I))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-table"]],decls:79,vars:5,consts:[[1,"table-responsive"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#agregarProducto",1,"btn","btn-outline-primary"],["id","agregarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",3,"formGroup"],[1,"mb-3"],[1,"form-label",2,"color","var(--text-color)"],["type","text","formControlName","nombre","placeholder","Ej.: Pelota de futbol",1,"form-control"],["type","text","formControlName","descripcion","placeholder","Ej.: esferico, caprichosa, la redonda",1,"form-control"],["type","number","formControlName","precio","placeholder","...$$",1,"form-control"],["formControlName","categoria","aria-label","Default select example",1,"form-control","form-select"],["disabled","","selected",""],["value","futbol"],["value","voley"],["value","basquet"],["value","indumentaria"],["value","boxeo"],["value","ciclismo"],[1,"mb-3","input-file-container"],[1,"form-label"],["for","file-upload",1,"custom-file-upload"],["id","file-upload","type","file","accept","image/*",3,"change"],[1,"file-name"],["type","text","formControlName","alt","placeholder","Ingrese un texto alternativo",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-success",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-light"],["class","modal fade","id","editarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngFor","ngForOf"],["class","modal fade","id","eliminarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",4,"ngIf"],["scope","row"],["width","100px",3,"src","alt"],["id","btn-edit","title","Editar","type","button","data-bs-toggle","modal","data-bs-target","#editarProducto",1,"btn","btn-outline-warning",3,"click"],["id","btn-delete","title","Eliminar","type","button","data-bs-toggle","modal","data-bs-target","#eliminarProducto",1,"btn","btn-outline-danger",3,"click"],["id","editarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","text","formControlName","nombre",1,"form-control",3,"placeholder"],["type","text","formControlName","descripcion",1,"form-control",3,"placeholder"],["type","number","formControlName","precio",1,"form-control",3,"placeholder"],["formControlName","categoria","aria-label","Default select example",1,"form-control","form-select","styled-select"],["type","text","formControlName","alt",1,"form-control",3,"placeholder"],["id","eliminarProducto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-body"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-danger",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th",2),t._uU(7,"Imagen"),t.qZA(),t.TgZ(8,"th",2),t._uU(9,"Nombre"),t.qZA(),t.TgZ(10,"th",2),t._uU(11,"Precio"),t.qZA(),t.TgZ(12,"th",2),t._uU(13,"Descripci\xf3n"),t.qZA(),t.TgZ(14,"th",2),t._uU(15,"Categor\xeda"),t.qZA(),t.TgZ(16,"th",2),t._uU(17,"Acciones"),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,_,20,7,"tr",3),t.qZA()()(),t.TgZ(20,"button",4),t._uU(21," Agregar un nuevo producto\n"),t.qZA(),t.TgZ(22,"div",5)(23,"div",6)(24,"div",7)(25,"div",8)(26,"h1",9),t._uU(27,"Ingrese un nuevo producto"),t.qZA(),t._UZ(28,"button",10),t.qZA(),t.TgZ(29,"div",11)(30,"div",12)(31,"label",13),t._uU(32,"Ingrese el nombre del producto:"),t.qZA(),t._UZ(33,"input",14),t.qZA(),t.TgZ(34,"div",12)(35,"label",13),t._uU(36,"Ingrese descripci\xf3n del producto:"),t.qZA(),t._UZ(37,"input",15),t.qZA(),t.TgZ(38,"div",12)(39,"label",13),t._uU(40,"Ingrese el precio:"),t.qZA(),t._UZ(41,"input",16),t.qZA(),t.TgZ(42,"div",12)(43,"label",13),t._uU(44,"Seleccione una categor\xeda:"),t.qZA(),t.TgZ(45,"select",17)(46,"option",18),t._uU(47,"Elija una categoria"),t.qZA(),t.TgZ(48,"option",19),t._uU(49,"Futbol"),t.qZA(),t.TgZ(50,"option",20),t._uU(51,"Voley"),t.qZA(),t.TgZ(52,"option",21),t._uU(53,"Basquet"),t.qZA(),t.TgZ(54,"option",22),t._uU(55,"Indumentaria"),t.qZA(),t.TgZ(56,"option",23),t._uU(57,"Boxeo"),t.qZA(),t.TgZ(58,"option",24),t._uU(59,"Ciclismo"),t.qZA()()(),t.TgZ(60,"div",25)(61,"label",26),t._uU(62,"Ingrese una imagen:"),t.qZA(),t.TgZ(63,"label",27),t._uU(64,"Subir Imagen"),t.qZA(),t.TgZ(65,"input",28),t.NdJ("change",function(l){return r.cargarImagen(l)}),t.qZA(),t.TgZ(66,"span",29),t._uU(67),t.qZA()(),t.TgZ(68,"div",12)(69,"label",13),t._uU(70,"Ingrese texto alternativo:"),t.qZA(),t._UZ(71,"input",30),t.qZA()(),t.TgZ(72,"div",31)(73,"button",32),t.NdJ("click",function(){return r.agregarProducto()}),t._uU(74,"Guardar"),t.qZA(),t.TgZ(75,"button",33),t._uU(76,"Cerrar"),t.qZA()()()()(),t.YNc(77,Z,55,6,"div",34),t.YNc(78,h,15,3,"div",35)),2&e&&(t.xp6(19),t.Q6J("ngForOf",r.coleccionProductos),t.xp6(10),t.Q6J("formGroup",r.producto),t.xp6(38),t.Oqu(r.nombreImagen),t.xp6(10),t.Q6J("ngForOf",r.coleccionProductos),t.xp6(1),t.Q6J("ngIf",r.modalVisibleProducto))},dependencies:[u.sg,u.O5,s.Hw,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.sg,a.u],styles:['.table[_ngcontent-%COMP%]{background-color:var(--primary-color);border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;border:1px solid white}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .3s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid white;padding:8px;text-align:left}.btn-outline-warning[_ngcontent-%COMP%]{border-color:#ffc107;color:#ffc107}.modal-body[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff}.btn-outline-warning[_ngcontent-%COMP%]:hover{background-color:#ffc107;color:var(--text-color)}.btn-outline-danger[_ngcontent-%COMP%]{border-color:#dc3545;color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:var(--text-color)}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#007bff;color:#fff}.modal-header[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--text-color)}.modal-content[_ngcontent-%COMP%]{background:var(--offcanvas-gradient);color:#fff;border:none}.modal-footer[_ngcontent-%COMP%]{background-color:var(--background-footer-color)}.modal-body[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#fff}.modal-footer[_ngcontent-%COMP%]{text-align:center;justify-content:center}.input-file-container[_ngcontent-%COMP%]{background-color:var(--offcanvas-gradient);padding:10px;border-radius:5px;display:flex;align-items:center;justify-content:space-between;color:var(--text-color)}.input-file-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:var(--text-color)}.input-file-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.input-file-container[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]{border:2px solid white;background-color:transparent;color:#fff;padding:5px 15px;cursor:pointer;border-radius:4px;transition:background-color .3s,color .3s}.input-file-container[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]:hover{background-color:#fff;color:#0d055c}.file-name[_ngcontent-%COMP%]{margin-left:10px;color:var(--text-color)}.material-style-select[_ngcontent-%COMP%]{font-size:16px;padding:8px 16px;border-radius:4px;background-color:#fff;border:1px solid rgba(0,0,0,.42);color:#000000de;box-shadow:0 2px 4px #0003;transition:border-color .2s ease-in-out,box-shadow .2s ease-in-out}.material-style-select[_ngcontent-%COMP%]:focus{border-color:#3f51b5;box-shadow:0 0 4px #3f51b5;outline:none}.material-style-select[_ngcontent-%COMP%]   option[disabled][_ngcontent-%COMP%]{color:#0000008a}.material-style-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px}.form-label[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:4px;display:block}.material-style-select[_ngcontent-%COMP%]{height:40px}.material-style-select[_ngcontent-%COMP%]{border-radius:4px}@media (min-width: 300px) and (max-width: 700px){.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.table[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:1rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;position:relative;padding-left:50%;padding-top:10px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{position:absolute;left:10px;width:45%;white-space:nowrap;font-weight:700}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1):before{content:"#"}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2):before{content:"Imagen:"}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3):before{content:"Nombre:"}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4):before{content:"Precio:"}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5):before{content:"Descripci\\f3n:"}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6):before{content:"Categor\\ed a:"}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7):before{content:"Acciones:"}}']})}return n})();const v=[{path:"admin",component:(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-admin"]],decls:7,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1")(3,"b"),t._uU(4,"Administrador"),t.qZA()(),t.TgZ(5,"div",2),t._UZ(6,"app-table"),t.qZA()()())},dependencies:[C],styles:[".container[_ngcontent-%COMP%]{display:flex;padding:1rem;text-align:center;justify-content:space-around;color:var(--input-color)}"]})}return n})()}];let P=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(v),g.Bz]})}return n})();var m=c(8525);let x=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#o=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[u.ez,P,s.Ps,a.u5,a.UX,m.LD,s.Ps,a.u5,a.UX,m.LD]})}return n})()}}]);